import{r as u,W as w,b as W,j as e,a as k}from"./app.js";import{H as D}from"./HeaderModule.js";import{A as I,S as O}from"./AuthenticatedLayout.js";import{I as o}from"./InputError.js";import R from"./PhoneInput.js";import{g as f}from"./IconButton.js";import{G as s}from"./Grid.js";import{A as _}from"./Autocomplete.js";import{T as m}from"./TextField.js";import{B}from"./Box.js";import{F as P}from"./FormControlLabel.js";import{S as T}from"./Switch.js";import{B as F}from"./Button.js";import"./Modal.js";import"./createSvgIcon.js";import"./Menu.js";import"./index5.js";import"./TableBody.js";import"./TableRow.js";import"./TableHead.js";import"./Delete.js";import"./useFormControl.js";function me({auth:j,category:h,flash:l,...v}){const x="EDITAR PROVEEDOR",[b,c]=u.useState(l?!!l.message:!1),C=l&&l.message?l.message:null,[y,S]=u.useState([]),[N,d]=u.useState(!1),[E,p]=u.useState(!1),{data:r,errors:i,put:A,reset:G,setData:a}=w({id:supplier.id,category_name:h.category_name});({...E&&{bgcolor:f[500],"&:hover":{bgcolor:f[700]}}});const L=t=>{t.preventDefault(),d(!0),A(route("supplier.update",{supplier}),{onError:()=>{p(!1),d(!1)},onSuccess:()=>{p(!0),c(!0),setTimeout(()=>{c(!1),p(!1),d(!1)},2e3)}})};return u.useEffect(()=>{W.get(route("supplier.resource.list")).then(({data:t})=>{S(t.data.map(n=>{const g=n.name[0].toUpperCase();return{firstLetter:/[0-9]/.test(g)?"0-9":g,...n}}))})},[]),e.jsxs(I,{user:j.user,...v,children:[C&&e.jsx(O,{anchorOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:()=>c(!1),message:l.message}),e.jsx(k,{title:x}),e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx(D,{title:x}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm",children:e.jsxs(s,{component:"form",columns:12,onSubmit:L,container:!0,spacing:2,className:"px-4 py-6",children:[e.jsxs(s,{item:!0,xs:12,children:[e.jsx(_,{id:"grouped-demo",freeSolo:!0,options:y.sort((t,n)=>-n.firstLetter.localeCompare(t.firstLetter)),groupBy:t=>t.firstLetter,getOptionLabel:t=>t.name,getOptionKey:t=>t.name,onChange:(t,n)=>a("name",n.name),inputValue:r.name,renderInput:t=>e.jsx(m,{fullWidth:!0,id:"name",name:"name",margin:"normal",label:"Nombre de Producto",variant:"outlined",value:r.name,onChange:n=>a("name",n.target.value),...t})}),e.jsx(o,{message:i.name,className:"mt-2"})]}),e.jsxs(s,{item:!0,xs:12,children:[e.jsx(m,{fullWidth:!0,margin:"normal",label:"Correo Electronico",variant:"outlined",value:r.email,onChange:t=>a("email",t.target.value)}),e.jsx(o,{message:i.email,className:"mt-2"})]}),e.jsx(s,{item:!0,xs:12,container:!0,display:"flex",justifyContent:"space-around",children:e.jsxs(s,{item:!0,xs:!0,container:!0,direction:"row",spacing:2,children:[e.jsxs(s,{item:!0,xs:12,md:4,children:[e.jsx(m,{fullWidth:!0,margin:"normal",label:"Estado",variant:"outlined",value:r.state,onChange:t=>a("state",t.target.value)}),e.jsx(o,{message:i.state,className:"mt-2"})]}),e.jsxs(s,{item:!0,xs:12,md:4,children:[e.jsx(m,{fullWidth:!0,margin:"normal",label:"Ciudad",variant:"outlined",value:r.city,onChange:t=>a("city",t.target.value)}),e.jsx(o,{message:i.city,className:"mt-2"})]}),e.jsxs(s,{item:!0,xs:12,md:4,children:[e.jsx(m,{fullWidth:!0,margin:"normal",label:"Calle",variant:"outlined",value:r.street,onChange:t=>a("street",t.target.value)}),e.jsx(o,{message:i.street,className:"mt-2"})]})]})}),e.jsx(s,{item:!0,xs:12,container:!0,display:"flex",justifyContent:"space-around",children:e.jsxs(s,{item:!0,xs:!0,container:!0,direction:"row",spacing:2,children:[e.jsxs(s,{item:!0,xs:6,children:[e.jsx(R,{value:r.phone_numbers,onChange:t=>a("phone_numbers",t)}),e.jsx(o,{message:i.stock,className:"mt-2"})]}),e.jsx(s,{item:!0,xs:6,display:"flex",alignItems:"center",children:e.jsxs(B,{children:[e.jsx(P,{control:e.jsx(T,{defaultChecked:!0,onChange:t=>a("active",!r.active)}),label:"Activo"}),e.jsx(o,{message:i.min_stock,className:"mt-2"})]})})]})}),e.jsxs(s,{item:!0,xs:12,children:[e.jsx(m,{fullWidth:!0,multiline:!0,margin:"normal",label:"Descripcion del Producto",variant:"outlined",value:r.description,onChange:t=>a("description",t.target.value)}),e.jsx(o,{message:i.description,className:"mt-2"})]}),e.jsx(s,{item:!0,xs:12,display:"flex",justifyContent:"end",children:e.jsx(F,{disabled:N,type:"submit",variant:"contained",children:"GUARDAR"})})]})})]})]})}export{me as default};
