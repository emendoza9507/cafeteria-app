import{r as c,W as N,b as A,j as e,a as S}from"./app-CcZTupP2.js";import{H as P}from"./HeaderModule-BbMSTuTz.js";import{A as W,M as w}from"./AuthenticatedLayout-BJAtVlcw.js";import{I as o}from"./InputError-LQRNL8de.js";import L from"./ImageBox-C4Vuxwdg.js";import{G as r}from"./Grid-BK-grW69.js";import{A as B}from"./Autocomplete-Kc514MBq.js";import{T as m}from"./TextField-BSGmObck.js";import{B as u}from"./Box-BI9hePAt.js";import{I as l}from"./InputAdornment-Crd8fCHu.js";import{B as R}from"./Button-CMrp5SBm.js";import{m as E}from"./makeStyles-DoBqjLs2.js";import"./Modal-DCmtYMGN.js";import"./IconButton-Du3rFqIH.js";import"./createSvgIcon-BJU7Dqrr.js";import"./Menu-Chc26orf.js";import"./index-CvhhuN57.js";import"./useFormControl-Cof0ro8X.js";const O=E(d=>({root:{"& > *":{margin:2},textAlign:"center",display:"flex",flexDirection:"column !important"},input:{display:"none"},imgBox:{position:"relative",maxWidth:"360px",alignSelf:"center"},clearImg:{position:"absolute",width:"100%",height:"100%",backgroundColor:"#000000a3",top:0,display:"none",justifyContent:"center",alignItems:"center"},img:{width:"100%"}}));function te({auth:d,categories:j,...f}){const y=O(),p="NUEVO PRODUCTO",[v,_]=c.useState(Array.from([])),[C,x]=c.useState(),{data:s,errors:n,post:b,reset:g,setData:a}=N({name:"",product_category_id:"",stock:0,min_stock:0,description:"",sale_price:"",purchase_price:"",um:"",image:""}),I=t=>{a("image",t.target.files[0]),x(URL.createObjectURL(t.target.files[0]))},k=t=>{t.preventDefault(),b(route("product.store"),{onSuccess:()=>g()})};return c.useEffect(()=>{A.get(route("product.resource.list")).then(({data:t})=>{_(t.data.map(i=>{const h=i.name[0].toUpperCase();return{firstLetter:/[0-9]/.test(h)?"0-9":h,...i}}))})},[]),e.jsxs(W,{user:d.user,...f,children:[e.jsx(S,{title:p}),e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx(P,{title:p}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm",children:e.jsxs(r,{component:"form",columns:12,onSubmit:k,container:!0,spacing:2,className:"px-4 py-6",children:[e.jsxs(r,{item:!0,xs:12,children:[e.jsx(B,{freeSolo:!0,options:v.sort((t,i)=>-i.firstLetter.localeCompare(t.firstLetter)),groupBy:t=>t.firstLetter,getOptionLabel:t=>t.name,getOptionKey:t=>t.name,onChange:(t,i)=>a("name",i.name),renderInput:t=>e.jsx(m,{fullWidth:!0,id:"name",name:"name",margin:"normal",label:"Nombre de Producto",variant:"outlined",value:s.name,onChange:i=>a("name",i.target.value),...t})}),e.jsx(o,{message:n.name,className:"mt-2"})]}),e.jsx(r,{item:!0,xs:12,container:!0,display:"flex",justifyContent:"space-around",children:e.jsxs(r,{item:!0,xs:!0,container:!0,direction:"row",spacing:2,children:[e.jsxs(r,{item:!0,xs:12,md:6,className:y.root,children:[e.jsx(L,{file:C,handleChangeImage:I,handleRemoveImage:t=>{g("image"),x(null)}}),e.jsx(o,{message:n.image,className:"mt-2"})]}),e.jsxs(r,{item:!0,md:6,container:!0,direction:"row",spacing:2,children:[e.jsx(r,{item:!0,xs:6,md:6,display:"flex",alignItems:"center",children:e.jsxs(u,{children:[e.jsx(m,{fullWidth:!0,id:"purche_price",name:"sale_price",margin:"normal",label:"Precio de Venta",type:"number",step:"any",variant:"outlined",InputProps:{startAdornment:e.jsx(l,{position:"start",children:"$"})},value:s.sale_price,onChange:t=>a("sale_price",t.target.value)}),e.jsx(o,{message:n.sale_price,className:"mt-2"})]})}),e.jsx(r,{item:!0,xs:6,md:6,display:"flex",alignItems:"center",children:e.jsxs(u,{children:[e.jsx(m,{fullWidth:!0,id:"purche_price",name:"purchase_price",margin:"normal",label:"Precio de Compra",variant:"outlined",type:"number",InputProps:{startAdornment:e.jsx(l,{position:"start",children:"$"})},value:s.purchase_price,onChange:t=>a("purchase_price",t.target.value)}),e.jsx(o,{message:n.purchase_price,className:"mt-2"})]})}),e.jsxs(r,{item:!0,xs:6,md:6,display:"flex",direction:"column",justifyContent:"center",children:[e.jsx(m,{fullWidth:!0,id:"product_category_id",name:"product_category_id",margin:"normal",label:"Categoria",select:!0,variant:"outlined",value:s.product_category_id,onChange:t=>a("product_category_id",t.target.value),children:Array.from(j).map(({id:t,category_name:i})=>e.jsx(w,{value:t,children:i},t))}),e.jsx(o,{message:n.product_category_id,className:"mt-2"})]}),e.jsx(r,{item:!0,xs:6,md:6,display:"flex",alignItems:"center",children:e.jsxs(u,{children:[e.jsx(m,{fullWidth:!0,id:"um",name:"um",margin:"normal",label:"Unidad de Medida",variant:"outlined",value:s.um,onChange:t=>a("um",t.target.value)}),e.jsx(o,{message:n.um,className:"mt-2"})]})})]})]})}),e.jsx(r,{item:!0,xs:12,container:!0,display:"flex",justifyContent:"space-around",children:e.jsxs(r,{item:!0,xs:!0,container:!0,direction:"row",spacing:2,children:[e.jsxs(r,{item:!0,xs:6,children:[e.jsx(m,{fullWidth:!0,id:"stock",name:"stock",margin:"normal",label:"Stock",type:"number",variant:"outlined",value:s.stock,InputProps:{endAdornment:e.jsx(l,{position:"end",children:s.um})},onChange:t=>a("stock",t.target.value)}),e.jsx(o,{message:n.stock,className:"mt-2"})]}),e.jsxs(r,{item:!0,xs:6,children:[e.jsx(m,{fullWidth:!0,id:"min_stock",name:"min_stock",margin:"normal",type:"number",label:"Min. Stock",variant:"outlined",InputProps:{endAdornment:e.jsx(l,{position:"end",children:s.um})},value:s.min_stock,onChange:t=>a("min_stock",t.target.value)}),e.jsx(o,{message:n.min_stock,className:"mt-2"})]})]})}),e.jsxs(r,{item:!0,xs:12,children:[e.jsx(m,{fullWidth:!0,multiline:!0,id:"description",name:"description",margin:"normal",label:"Descripcion del Producto",variant:"outlined",value:s.description,onChange:t=>a("description",t.target.value)}),e.jsx(o,{message:n.description,className:"mt-2"})]}),e.jsx(r,{item:!0,xs:12,display:"flex",justifyContent:"end",children:e.jsx(R,{type:"submit",variant:"contained",children:"CREAR"})})]})})]})]})}export{te as default};
